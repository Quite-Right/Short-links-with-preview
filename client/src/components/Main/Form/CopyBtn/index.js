import React, { useState } from "react";
import { CopyToClipboard } from "react-copy-to-clipboard";
import { toast } from "react-toastify";

export default function CopyBtn({ text }) {
  const [copied, setCopied] = useState(false);
  return (
    <CopyToClipboard
      text={`https://mr-sl.com/${text}`}
      onCopy={() => {
        setCopied(true);
        toast.success(`Your link https://mr-sl.com/${text} was copied to clipboard`, {
          position: "top-right",
          autoClose: 3000,
          hideProgressBar: false,
          closeOnClick: true,
          pauseOnHover: true,
          draggable: false,
          progress: undefined,
        });
      }}
    >
      <div className={`copy-btn ${copied ? "active" : ""}`}>
        <div className="copy-code">{`https://mr-sl.com/${text}`}</div>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          xmlnsXlink="http://www.w3.org/1999/xlink"
          version="1.1"
          width="22"
          height="25"
          viewBox="0 0 22 25"
          className="copy-svg"
        >
          <path
            id="Duplicate"
            d="M6.154,-0.000 C9.528,-0.000 12.903,-0.000 16.278,-0.000 C16.362,0.082 16.449,0.162 16.532,0.246 C18.102,1.827 19.670,3.411 21.244,4.988 C21.416,5.160 21.495,5.338 21.494,5.582 C21.490,10.734 21.491,15.887 21.491,21.039 C21.491,21.538 21.365,21.663 20.861,21.663 C19.373,21.663 17.885,21.663 16.396,21.663 C15.900,21.663 15.403,21.663 14.881,21.663 C14.881,21.774 14.881,21.859 14.881,21.943 C14.880,22.767 14.872,23.592 14.883,24.415 C14.887,24.703 14.792,24.899 14.521,25.000 C9.787,25.000 5.052,25.000 0.317,25.000 C0.083,24.866 0.006,24.662 0.006,24.395 C0.010,17.575 0.010,10.756 0.011,3.936 C0.011,3.470 0.145,3.337 0.614,3.337 C1.767,3.336 2.921,3.337 4.074,3.337 C4.639,3.337 5.204,3.337 5.794,3.337 C5.794,3.226 5.794,3.142 5.794,3.058 C5.795,2.233 5.803,1.409 5.792,0.585 C5.788,0.297 5.883,0.101 6.154,-0.000 zM14.055,9.163 C13.942,9.163 13.835,9.163 13.728,9.163 C12.386,9.163 11.043,9.164 9.701,9.163 C9.234,9.162 9.102,9.027 9.102,8.557 C9.101,7.186 9.102,5.815 9.102,4.444 C9.102,4.353 9.102,4.263 9.102,4.176 C6.324,4.176 3.590,4.176 0.851,4.176 C0.851,10.847 0.851,17.504 0.851,24.149 C5.266,24.149 9.658,24.149 14.055,24.149 C14.055,19.155 14.055,14.183 14.055,9.163 zM20.654,20.825 C20.654,15.817 20.654,10.832 20.654,5.832 C20.569,5.832 20.501,5.832 20.433,5.832 C19.056,5.832 17.679,5.832 16.302,5.832 C15.859,5.831 15.714,5.684 15.713,5.239 C15.713,3.920 15.712,2.601 15.711,1.282 C15.711,1.138 15.711,0.993 15.711,0.847 C12.665,0.847 9.649,0.847 6.634,0.847 C6.634,1.685 6.634,2.504 6.634,3.337 C7.547,3.337 8.442,3.345 9.336,3.332 C9.581,3.329 9.757,3.408 9.927,3.580 C11.481,5.155 13.037,6.728 14.602,8.291 C14.804,8.492 14.884,8.696 14.883,8.976 C14.877,12.804 14.879,16.631 14.879,20.458 C14.879,20.577 14.879,20.695 14.879,20.825 C16.821,20.825 18.728,20.825 20.654,20.825 zM16.550,1.469 C16.550,2.659 16.550,3.823 16.550,4.981 C17.722,4.981 18.875,4.981 20.036,4.981 C18.872,3.808 17.722,2.650 16.550,1.469 zM13.347,8.328 C12.213,7.183 11.061,6.019 9.939,4.886 C9.939,5.993 9.939,7.158 9.939,8.328 C11.106,8.328 12.255,8.328 13.347,8.328 z"
            fill="#757575"
          />
        </svg>
      </div>
    </CopyToClipboard>
  );
}
